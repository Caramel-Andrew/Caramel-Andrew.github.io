_bind.slide.bdSlideHorizontal={render:function(i){$(i.el).bdSlideHorizontal({autostart:i.autost,loop:i.loop,interval:i.interval,duration:i.duration,slide:i.slide,size_limit:i.size_limit,fixed_height:i.fixed_height,nav_type:i.nav_type,nav_color:i.nav_color,dir_type:i.dir_type,dir_color:i.dir_color,disp_comment:i.disp_comment})}};
!function(w,k){function s(){}w.fn.bdSlideHorizontal=function(t){return this.each(function(){var e=w(this);if(e.data("bdSlideHorizontal"))return e.data("bdSlideHorizontal");var i=new s;return e.data("bdSlideHorizontal",i),i.render(this,t.autostart,t.loop,t.interval,t.duration,t.slide,t.size_limit,t.fixed_height,t.nav_type,t.nav_color,t.dir_type,t.dir_color,t.disp_comment)})},s.prototype={interval:7e3,duration:1200,currentIndex:0,currentTargetLeft:0,render:function(e,i,t,s,h,a,n,d,l,o,r,c,g){var m=jQuery(e);this.autoStart=i,this.loop=t,this.loopEnd=!1,this.disp_comment=g,this.dir_type=r,this.nav_type=l,this.size_limit=n,this.fixed_height=d,s&&0<s&&(this.interval=s),h&&0<h&&(this.duration=h),this.slide=jQuery('<div class="shift03"></div>').css({visibility:"hidden"});var f=this,u=0;this.images=[],this.boat=jQuery('<div class="boat"></div>'),jQuery("span",m).each(function(e,i){var t=i.childNodes,s=null,h=null;for(e=0;e<t.length;e++){1==(i=t[e]).nodeType&&("IMG"==i.tagName?(s=i,null!=h&&h.append(s)):"A"==i.tagName?(h=i,s=jQuery("img",h)[0]):"slide-title"==i.className?null!=s&&(s.title=jQuery(i).html()):"slide-body"==i.className&&null!=s&&s.setAttribute("body",jQuery(i).html()))}if(null!=s){var a=jQuery(s);a.myLeft=u,f.images.push(a);var n=jQuery('<div class="img-wrap loading"></div>');null!=h?n.append(h):null!=s&&n.append(s),a.imagesLoaded(function(){n.removeClass("loading")}),f.boat.append(n)}}),this.slide.append(this.boat);var v="sp"!==k.fn.nowDevice()&&"mouseover"===g?" mouse":"";this.msgFrame=jQuery('<div class="msgFrame'+v+'"></div>').appendTo(this.slide),this.message=jQuery('<div class="message"></div>').appendTo(this.msgFrame),this.messageBk=jQuery('<div class="message-bk"></div>').appendTo(this.message),this.messageTitle=jQuery('<div class="message-title"></div>').appendTo(this.messageBk),this.messageBody=jQuery('<div class="message-body"></div>').appendTo(this.messageBk),this.blockNav=jQuery('<nav class="blockNav '+l+'">').appendTo(this.slide),this.blocks=[];for(var p=0;p<this.images.length;p++){var x=jQuery('<div class="'+("block "+l+" "+o)+'">').on("click",{idx:p},function(e){f.currentIndex=e.data.idx,f.gotoImage(f.currentIndex),f.restartTimer()}).appendTo(this.blockNav);k.device.ie||x.css("opacity",.6),this.blocks.push(x)}if("none"!=r){var b="mouseover"==r?c+" mouse":c;this.prevNav=jQuery('<svg class="prevNav navctl '+b+'" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><title>arrow_left</title><polygon points="27 33 14 20 27 7 25 5 10 20 25 35 27 33" fill="#040000"/><rect width="40" height="40" fill="none"/></svg>').click(function(){f.prevImage(),f.restartTimer()}).appendTo(this.slide),this.nextNav=jQuery('<svg class="nextNav navctl '+b+'" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><title>arrow_right</title><polygon points="13 33 26 20 13 7 15 5 30 20 15 35 13 33" fill="#040000"/><rect width="40" height="40" fill="none"/></svg>').click(function(){f.nextImage(),f.restartTimer()}).appendTo(this.slide)}this.slide.insertBefore(m),m.remove(),this.feedbackBlock(0),this.dispMessage(),this.slide.css({visibility:"visible",opacity:0}).velocity({opacity:1},{complete:function(){k.fn.heightRefresh(),k.fn.setFooter()}}),0==k.fn.isAnimationOff()&&this.autoStart&&(this.tm=setInterval(function(){f.nextImage(),f.msgHeight()},this.interval)),k.fn.onResize(function(){var e=a.width,i=a.height;"sp"===k.fn.nowDevice()&&(e=a.spWidth?a.spWidth:e,i=a.spHeight?a.spHeight:i);var t=i/e;n?f.slide.css({"max-width":e+"px","max-height":i+"px",height:f.fixed_height?i:jQuery(".shift03").width()*t,display:"inline-block"}):f.slide.css({height:f.fixed_height?i:f.slide.width()*t}),f.slide.find(".img-wrap").css({width:f.slide.width(),height:f.fixed_height?i:f.slide.width()*t}),f.boat.css({width:f.slide.width()*f.images.length,height:f.fixed_height?i:f.slide.width()*t});for(var s=0;s<f.images.length;s++)u=f.slide.width()*s,f.images[s].myLeft=u;f.boat.velocity("stop").css("left",-1*f.images[f.currentIndex].myLeft);var h="bar"===l&&"sp"!==k.fn.nowDevice()?60:32;f.slide.width()<f.images.length*h?f.blockNav.css("width",f.slide.width()):f.blockNav.css("width",""),"sp"===k.fn.nowDevice()?(f.slide.find(".mouse").removeClass("mouse"),"0px"===f.slide.find(".msgFrame").css("max-height")&&f.slide.find(".msgFrame").css("max-height",""),"0px"===f.slide.find(".navctl").css("max-height")&&f.slide.find(".navctl").css("max-height","")):("mouseover"===g&&f.slide.find(".msgFrame").addClass("mouse"),"mouseover"===r&&f.slide.find(".navctl").addClass("mouse")),f.dispMessage()});var y="ontouchstart"in window;f.boat.on({"touchstart mousedown":function(e){this.touched=!0,this.pageX=y?event.changedTouches[0].pageX:e.pageX,this.leftBegin=parseInt(w(this).css("left")),this.left=parseInt(w(this).css("left"))},"touchmove mousemove":function(e){if(this.touched){e.preventDefault();var i=y?event.changedTouches[0].pageX:e.pageX,t=-(u-f.slide.width());return this.left=this.left-(this.pageX-i),this.pageX=i,this.left<0&&this.left>t?w(this).css({left:this.left}):0<=this.left?w(this).css({left:"0"}):this.left<=t&&w(this).css({left:t}),!1}},"touchend mouseup mouseout":function(){this.touched&&(this.touched=!1,this.leftBegin>this.left?(f.nextImage(),f.restartTimer()):this.leftBegin<this.left&&(f.prevImage(),f.restartTimer()))}})},msgHeight:function(){"none"!==this.dir_type?this.slide.find(".message").css("max-height",this.slide.height()/2-("sp"===k.fn.nowDevice()?16:20)+"px"):this.slide.find(".message").css("max-height",this.slide.height()/2+"px"),this.slide.find(".message").css({height:this.slide.find(".message-title").height()+this.slide.find(".message-body").height(),"padding-bottom":0}),"dot"===this.nav_type?this.slide.find(".message").css({"padding-bottom":"29px",height:this.slide.find(".message").height()+36}):"bar"===this.nav_type?this.slide.find(".message").css({"padding-bottom":"27px",height:this.slide.find(".message").height()+34}):this.slide.find(".message").height(this.slide.find(".message").height()+14),this.slide.find(".message-title").html()||this.slide.find(".message-body").html()||this.slide.find(".message").css({height:0,"padding-bottom":0})},prevImage:function(){this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.gotoImage(this.currentIndex)},nextImage:function(){this.currentIndex++,this.currentIndex==this.images.length&&(this.autoStart&&0==this.loop&&(clearInterval(this.tm),this.loopEnd=!0),this.currentIndex=0),this.gotoImage(this.currentIndex)},gotoImage:function(e){var i=this.images[e];this.boat.velocity("stop").velocity({left:-1*i.myLeft+"px"},{duration:this.duration,easing:"easeOutExpo"}),this.dispMessage(),this.feedbackBlock(e)},dispMessage:function(){this.messageTitle.html(""),this.messageBody.html("");var e=this.images[this.currentIndex],i=e.attr("title"),t=e.attr("body");if(i&&this.messageTitle.html(i),t&&this.messageBody.html(t),"sp"===k.fn.nowDevice()||"mouseover"!==this.disp_comment)this.msgHeight();else{var s=this;this.slide.hover(function(){s.msgHeight(),s.slide.children(".mouse").css("max-height",s.slide.find(".message").css("max-height"))},function(){s.slide.find(".message").css("padding-bottom",0),s.slide.children(".mouse").css("max-height",0)}),s.slide.children(".navctl").click(function(){s.msgHeight(),s.slide.children(".mouse").css("max-height",s.slide.find(".message").css("max-height"))}),s.slide.find(".block").click(function(){s.msgHeight(),s.slide.children(".mouse").css("max-height",s.slide.find(".message").css("max-height"))})}},feedbackBlock:function(e){var i=this.blocks.reduce(function(e,i){return e+i.width()},0),t=Math.floor(this.blockNav.width()/this.blocks[0].width()),s="";if(this.blockNav.width()<i&&Math.ceil(t/2)<=e){var h=this.blocks[0].width()*(e-Math.ceil(t/2));h>=(this.blocks.length-t)*this.blocks[0].width()&&(h=(this.blocks.length-t)*this.blocks[0].width()),0<h&&(s="-"+h+"px")}for(var a=0;a<this.blocks.length;a++){var n=this.blocks[a];n.css("left",s),a==e?n.addClass("on"):n.removeClass("on")}},restartTimer:function(){if(this.autoStart&&0==this.loopEnd){clearInterval(this.tm);var e=this;this.tm=setInterval(function(){e.nextImage(),e.msgHeight()},this.interval)}},getLeft:function(){return new Number(function(e){return e.replace("px","")}(this.boat.css("left")))}}}(jQuery,_bind);